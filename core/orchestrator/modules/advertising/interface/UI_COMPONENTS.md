# Компоненты интерфейса модуля Advertising

## Основные экраны

### 1. Главный экран: "Управление по артикулам"
Это основной рабочий экран (80% времени пользователя).

#### 1.1 Верхняя панель (Control Bar)
**Компоненты:**
- Marketplace: WB (фикс)
- Период метрик (today/7d/30d/custom)
- Поиск по артикулу/названию/группе
- Фильтры:
  * Предмет (subject)
  * Статусы РК (активна/пауза/стоп)
  * Тип РК (CPM/CPC)
  * Автостратегия (вкл/выкл/тип)
  * ДРР диапазон (min-max)
- Кнопки:
  * "Применить изменения" (если есть черновик)
  * "Отменить черновик"
  * "Экспорт"

#### 1.2 Pivot-группировка (как в Excel)
**Компоненты:**
- Панель "Группировка"
- Rows (строки): Subject → UserField → Артикул
- Columns (колонки): фиксированные
- Values: метрики (ДРР, расход, заказы, выручка, CTR, CPC/CPM)
- User Fields Manager:
  * создать поле (текст/список/теги)
  * назначить значение на выделенные артикула
  * "Сохранить представление" (View preset)

### 2. Таблица артикулов (основной объект UI)

#### 2.1 Левый sticky-блок колонок (идентификация)
**Компоненты:**
- ✅ чекбокс выбора строки
- Артикул (nmId)
- Название (short)
- Предмет (subject)
- Пользовательские поля (1–3 отображаемых, остальные в popover)

#### 2.2 Метрики (сворачиваемый блок)
**Компоненты:**
- ДРР
- Расход
- Выручка
- Заказы
- CTR
- CPC / CPM (в зависимости от типа кампании)
- Тренд за период (mini-sparkline)

#### 2.3 Колонка "РК" (ключевая)
Это **матрица тумблеров** в одной колонке (рекомендуется компактный "tree-toggle").

**Уровень 1: Тип кампании**
- `CPM` (toggle)
- `CPC` (toggle)

**Уровень 2 (только для CPM): режим ставки (взаимоисключаемые)**
- `Единая ставка` (radio-toggle)
- `Ручная ставка` (radio-toggle)

**Уровень 3 (только для CPM + ручная ставка): плейсменты**
- `Поиск` (toggle)
- `Рекомендации` (toggle)

**Компоненты:**
- `CampaignToggleCell`
- `ToggleTree`
- `RadioToggleGroup`
- `PlacementToggleRow`

#### 2.4 Колонка "Слова / Кластеры" (только для ручной ставки)
**Компоненты:**
- `WordsCellSummary`
- `InspectorDrawer`
- `ClusterBidsTable`
- `MinusPhrasesManager`

### 3. Правая панель (Inspector Drawer): "Кластеры и ставки"

#### 3.1 Режимы панели
**Компоненты:**
- Переключатель: "Ставки по кластерам" / "Минус-фразы"

#### 3.2 "Ставки по кластерам"
**Компоненты:**
- Таблица кластеров с параметрами:
  * Кластер (название / query group)
  * Показы / клики / расход / ДРР (опционально)
  * Ставка (input)
  * Статус (active / paused)
- Действия:
  * "Установить ставку"
  * "Удалить ставку" (сброс к дефолтной)
  * "Массово: применить к выделенным"

#### 3.3 "Минус-фразы"
**Компоненты:**
- Список кластеров с чекбоксами:
  * [ ] Добавить в минус
  * [ ] Вернуть из минус (remove)
- Кнопки:
  * "Применить"
  * "Откатить"

### 4. Массовые действия (для групп и выделения)

#### 4.1 Bulk Action Bar (появляется при выделении)
**Компоненты:**
- Включить CPM / Выключить CPM
- Включить CPC / Выключить CPC
- CPM: Единая ставка / Ручная ставка
- Ручная ставка: Поиск / Рекомендации (toggle)
- "Открыть кластеры" (панель справа для группы)
- "Назначить пользовательское поле"
- `BulkActionBar`

#### 4.2 Действия на уровне группы (в дереве)
**Компоненты:**
- кнопка "…" (context menu)
- применить действия к группе
- показать агрегатные метрики группы
- `GroupContextMenu`
- `GroupRowHeader`

### 5. Экраны второго уровня (не обязательно сразу)

#### 5.1 "Кампании" (в классическом смысле)
**Компоненты:**
- список кампаний
- маппинг кампаний на артикула
- статусы, бюджеты
- `CampaignsList`
- `CampaignDetail`

#### 5.2 "Автостратегии"
**Компоненты:**
- список стратегий
- назначение стратегии на артикул/группу
- параметры стратегии
- `StrategiesList`
- `StrategyAssignment`

## Компоненты состояний

### Статусы и уведомления
**Компоненты:**
- `SyncStatusBadge`
- `ErrorTooltip`
- `DraftChangesBanner`
- `SuccessNotification`
- `WarningBanner`

## Навигация

### Основная навигация
**Компоненты:**
- `MainNavigation`
- `BreadcrumbNavigation`
- `QuickFilters`
- `ViewPresetsManager`

## Модальные окна

### Системные модалки
**Компоненты:**
- `ConfirmationDialog`
- `FieldSettingsModal`
- `ExportOptionsModal`
- `ViewSaveModal`

## UI-паттерны

### Основные паттерны
**Компоненты:**
- `TableWithInspector` (основной паттерн: table + inspector drawer)
- `TreeGrouping`
- `MetricSparkline`
- `StatusIndicator`
- `ActionDropdown`